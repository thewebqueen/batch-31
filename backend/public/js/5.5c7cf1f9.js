(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{ec27:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("q-toolbar",{staticClass:"bg-orange text-white"},[n("q-btn",{staticClass:"q-mr-sm",attrs:{flat:"",round:"",dense:"",icon:"menu"}}),n("q-avatar",[n("img",{attrs:{src:"https://cdn.quasar.dev/logo/svg/quasar-logo.svg"}})]),n("q-toolbar-title",[t._v("Ordering App")]),n("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"shopping_cart"},on:{click:function(e){t.showCart=!t.showCart}}},[n("q-badge",{directives:[{name:"show",rawName:"v-show",value:t.cartQty,expression:"cartQty"}],attrs:{color:"red",floating:""}},[t._v("\n        "+t._s(t.cartQty)+"\n      ")]),n("q-dialog",{attrs:{position:"bottom"},model:{value:t.showCart,callback:function(e){t.showCart=e},expression:"showCart"}},[n("cart",{model:{value:t.cart,callback:function(e){t.cart=e},expression:"cart"}})],1)],1),t.user?n("q-btn",{on:{click:function(e){t.user=!1}}},[t._v("\n      "+t._s(t.user.name)+" | Logout\n    ")]):n("q-btn",{on:{click:t.login}},[t._v("\n      Login\n    ")])],1),n("div",{staticStyle:{height:"calc(100vh - 50px)",overflow:"auto"}},[n("div",{staticClass:"row q-gutter-sm q-pa-md justify-center"},t._l(t.items,(function(e,s){return n("q-card",{key:e._id,staticClass:"col-xs-12 col-sm-4"},[n("q-img",{staticStyle:{height:"128px"},attrs:{src:"https://picsum.photos/id/"+s+"/300/200"}},[n("div",{staticClass:"absolute-bottom"},[n("div",{staticClass:"text-h6"},[t._v(t._s(e.name))]),n("div",{staticClass:"text-subtitle2"},[t._v("\n              "+t._s(t.pesoCurrencyFormat(e.price))+"\n              "),n("q-rating",{attrs:{value:e.rating,size:"1em",icon:"star"}})],1)])]),n("q-card-actions",{staticClass:"q-gutter-sm"},[n("qty",{model:{value:e.qty,callback:function(n){t.$set(e,"qty",n)},expression:"item.qty"}}),n("q-space"),n("q-btn",{attrs:{color:"orange","no-caps":""},on:{click:function(n){return t.addToCart(e)}}},[t._v("Add to Cart")])],1)],1)})),1),n("div",{staticStyle:{position:"fixed",bottom:"80px",right:"72px"}},[n("q-btn",{staticStyle:{position:"fixed"},attrs:{fab:"",icon:"add",color:"accent"},on:{click:t.addItem}})],1)])],1)},a=[],i=(n("7514"),n("a34a")),r=n.n(i),o=(n("96cf"),n("c973")),c=n.n(o),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row items-center q-gutter-sm"},[n("q-btn",{attrs:{size:"xs",round:"",icon:"keyboard_arrow_left"},on:{click:t.decrease}}),n("div",[t._v(" "+t._s(t.quantity)+" ")]),n("q-btn",{attrs:{size:"xs",round:"",icon:"keyboard_arrow_right"},on:{click:t.increase}})],1)},u=[],d={props:["value"],mounted:function(){this.quantity=this.value},data:function(){return{quantity:1}},methods:{increase:function(){this.quantity+=1,this.$emit("input",this.quantity)},decrease:function(){this.quantity>1&&(this.quantity-=1),this.$emit("input",this.quantity)}}},m=d,h=n("2877"),p=Object(h["a"])(m,l,u,!1,null,"057ff60a",null),q=p.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-white",staticStyle:{height:"700px"}},[n("q-toolbar",{staticClass:"bg-orange text-white"},[n("q-btn",{staticClass:"q-mr-sm",attrs:{flat:"",round:"",dense:"",icon:"shopping_cart"}}),n("q-toolbar-title",[t._v("Cart")]),n("q-btn",[t._v("\n      Place Order\n    ")])],1),n("div",{staticStyle:{height:"calc(700px - 50px)",overflow:"auto"}},[n("div",{staticClass:"row q-gutter-sm q-pa-md justify-center"},t._l(t.items,(function(e){return n("q-card",{key:e._id,staticClass:"col-xs-12 col-sm-4"},[n("q-img",{staticStyle:{height:"128px"},attrs:{src:"https://cdn.quasar.dev/img/parallax2.jpg"}},[n("div",{staticClass:"absolute-bottom"},[n("div",{staticClass:"text-h6"},[t._v(t._s(e.name))]),n("div",{staticClass:"text-subtitle2"},[t._v("\n              "+t._s(t.pesoCurrencyFormat(e.price))+"\n              "),n("q-rating",{attrs:{value:e.rating,size:"1em",icon:"star"}})],1)])]),n("q-card-actions",{staticClass:"q-gutter-sm"},[n("qty",{model:{value:e.qty,callback:function(n){t.$set(e,"qty",n)},expression:"item.qty"}}),n("q-space"),n("q-btn",{attrs:{color:"orange","no-caps":""},on:{click:function(n){return t.removeItem(e._id)}}},[t._v("remove")])],1)],1)})),1)])],1)},g=[],f=n("2ef0"),y={props:["value"],components:{qty:q},mounted:function(){this.items=this.value},data:function(){return{items:[]}},methods:{pesoCurrencyFormat:function(t){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(t)},removeItem:function(t){var e=Object(f["findIndex"])(this.items,["_id",t]);this.items.splice(e,1)}}},b=y,_=Object(h["a"])(b,v,g,!1,null,null,null),C=_.exports,w={components:{qty:q,cart:C},mounted:function(){var t=this;this.itemsService=this.$dbCon.wingsService("items"),this.itemsService.on("dataChange",(function(e){console.log("items",e),t.items=e})),this.itemsService.init(),this.$dbCon.on("login",(function(e,n,s){console.log(e),t.user=e.user})),this.$dbCon.on("logout",(function(e,n,s){console.log(e),t.user=!1})),this.$dbCon.authenticate()},data:function(){return{user:!1,showCart:!1,cart:[],items:[{_id:1,name:"Hotdog",qty:1,stocks:10,price:20,rating:3},{_id:2,name:"Burger",qty:1,stocks:10,price:25,rating:5},{_id:3,name:"Pancit Palabok",qty:1,stocks:10,price:15,rating:1}]}},computed:{cartQty:function(){return Object(f["sumBy"])(this.cart,"qty")}},methods:{login:function(){var t=this;return c()(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$dbCon.authenticate({email:"admin@admin",password:"admin",strategy:"local"});case 2:case"end":return e.stop()}}),e)})))()},addItem:function(){this.itemsService.create({name:"Burger",qty:2,stocks:15,price:20,rating:5})},pesoCurrencyFormat:function(t){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(t)},addToCart:function(t){var e=this.cart.find((function(e){return e._id===t._id}));console.log(e),e?(console.log(e.qty,t.qty),e.qty=e.qty+t.qty):this.cart.push(Object(f["cloneDeep"])(t)),console.log(this.cart)}}},x=w,k=Object(h["a"])(x,s,a,!1,null,null,null);e["default"]=k.exports}}]);